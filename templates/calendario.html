{% extends "base.html" %}

{% block title %}Calendário - Guarda Theo{% endblock %}

{% block content %}
<div class="container">
    <div class="calendar-header">
        <button id="btn-prev-month" class="btn-nav">← Mês Anterior</button>
        <h2 id="calendar-title"></h2>
        <button id="btn-next-month" class="btn-nav">Próximo Mês →</button>
    </div>

    <div class="calendar-analytics" id="calendar-analytics">
        <!-- Analytics will be populated by JavaScript -->
    </div>

    <div class="calendar-legend">
        <div class="legend-item"><span class="color-pai"></span> Leonardo (Pai)</div>
        <div class="legend-item"><span class="color-mae"></span> Taciana (Mãe)</div>
        <div class="legend-item"><span class="color-avos"></span> Avós Paternos</div>
        <div class="legend-item"><span class="color-feriado"></span> Feriado</div>
    </div>

    <div class="calendar" id="calendar">
        <div class="calendar-header-days">
            <div class="day-header">Dom</div>
            <div class="day-header">Seg</div>
            <div class="day-header">Ter</div>
            <div class="day-header">Qua</div>
            <div class="day-header">Qui</div>
            <div class="day-header">Sex</div>
            <div class="day-header">Sáb</div>
        </div>
        <div class="calendar-days" id="calendar-days">
            <!-- Days will be populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Modal para editar dia -->
<div id="modal-edit-day" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Editar Dia</h2>
        <form id="form-edit-day">
            <div class="input-group">
                <label for="edit-date">Data:</label>
                <input type="date" id="edit-date" readonly>
            </div>
            <div class="input-group">
                <label for="edit-responsavel">Responsável:</label>
                <select id="edit-responsavel">
                    <option value="leonardo">Leonardo (Pai)</option>
                    <option value="taciana">Taciana (Mãe)</option>
                    <option value="avos_paternos">Avós Paternos</option>
                    <option value="feriado">Feriado</option>
                </select>
            </div>
            <div class="input-group">
                <label for="edit-tipo">Tipo:</label>
                <select id="edit-tipo">
                    <option value="planejado">Planejado</option>
                    <option value="realizado">Realizado</option>
                </select>
            </div>
            <div class="input-group">
                <label for="edit-observacao">Observação:</label>
                <textarea id="edit-observacao" rows="3"></textarea>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn-secondary" onclick="closeModal()">Cancelar</button>
                <button type="submit" class="btn-primary">Salvar</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Initialize calendar functionality
document.addEventListener('DOMContentLoaded', function() {
    initCalendar();
});
</script>
{% endblock %}
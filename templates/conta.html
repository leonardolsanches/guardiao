<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guarda do Theo - Conta Corrente</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="{{ url_for('static', filename='theo_logo.png') }}" alt="Theo" class="nav-theo-logo">
                <h1>Guarda do Theo</h1>
            </div>
            <div class="nav-links">
                <a href="{{ url_for('calendario') }}">ðŸ“… CalendÃ¡rio</a>
                <a href="{{ url_for('conta') }}" class="active">ðŸ’° Conta Corrente</a>
                <a href="{{ url_for('logout') }}">ðŸšª Sair</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="conta-header">
            <h2>ðŸ’° Conta Corrente</h2>
            <button id="btn-nova-despesa" class="btn-primary">+ Nova Despesa</button>
        </div>

        <div class="resumo-financeiro">
            <div class="resumo-card">
                <h3>Saldo HistÃ³rico</h3>
                <div class="valor" id="saldo-historico">R$ 0,00</div>
            </div>
        </div>

        <div class="resumo-anual">
            <h3>ðŸ“Š Resumo Anual 2025 por Categoria</h3>
            <div id="resumo-categorias" class="categorias-grid"></div>
        </div>

        <div class="filters">
            <div class="input-group">
                <label for="filter-descricao">DescriÃ§Ã£o:</label>
                <input type="text" id="filter-descricao" placeholder="Filtrar por descriÃ§Ã£o">
            </div>
            <div class="input-group">
                <label for="filter-categoria">Categoria:</label>
                <select id="filter-categoria">
                    <option value="">Todas as categorias</option>
                    <option value="educacao">EducaÃ§Ã£o</option>
                    <option value="saude">SaÃºde</option>
                    <option value="alimentacao">AlimentaÃ§Ã£o</option>
                    <option value="transporte">Transporte</option>
                    <option value="comunicacao">ComunicaÃ§Ã£o</option>
                    <option value="lazer">Lazer</option>
                    <option value="vestuario">VestuÃ¡rio</option>
                    <option value="outros">Outros</option>
                </select>
            </div>
            <div class="input-group">
                <label for="filter-status">Status:</label>
                <select id="filter-status">
                    <option value="">Todos os status</option>
                    <option value="pendente">Pendente</option>
                    <option value="validado">Validado</option>
                </select>
            </div>
            <div class="input-group">
                <label for="filter-mes">MÃªs:</label>
                <select id="filter-mes">
                    <option value="">Todos os meses</option>
                </select>
            </div>
        </div>

        <div id="despesas-tabela" class="despesas-lista"></div>
    </div>

    <div id="modal-despesa" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-title">Nova Despesa</h2>
            <form id="form-despesa" enctype="multipart/form-data">
                <div class="form-row">
                    <div class="input-group">
                        <label for="despesa-data">Data:</label>
                        <input type="date" id="despesa-data" name="data" required>
                    </div>
                    <div class="input-group">
                        <label for="despesa-valor">Valor:</label>
                        <input type="number" id="despesa-valor" name="valor" step="0.01" required>
                    </div>
                </div>
                <div class="input-group">
                    <label for="despesa-descricao">DescriÃ§Ã£o:</label>
                    <input type="text" id="despesa-descricao" name="descricao" required>
                </div>
                <div class="form-row">
                    <div class="input-group">
                        <label for="despesa-pagador">Pagador:</label>
                        <select id="despesa-pagador" name="pagador" required>
                            <option value="leonardo">Leonardo</option>
                            <option value="taciana">Taciana</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="despesa-categoria">Categoria:</label>
                        <select id="despesa-categoria" name="categoria" required>
                            <option value="educacao">EducaÃ§Ã£o</option>
                            <option value="saude">SaÃºde</option>
                            <option value="alimentacao">AlimentaÃ§Ã£o</option>
                            <option value="transporte">Transporte</option>
                            <option value="comunicacao">ComunicaÃ§Ã£o</option>
                            <option value="lazer">Lazer</option>
                            <option value="vestuario">VestuÃ¡rio</option>
                            <option value="outros">Outros</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label for="despesa-tipo">Tipo:</label>
                    <select id="despesa-tipo" name="tipo" required>
                        <option value="normal">Ãšnica</option>
                        <option value="parcelada">Parcelada</option>
                        <option value="recorrente">Recorrente</option>
                    </select>
                </div>
                <div id="parcelamento-fields" class="form-row hidden">
                    <div class="input-group">
                        <label for="parcelas-total">Total de Parcelas:</label>
                        <input type="number" id="parcelas-total" name="parcelas_total">
                    </div>
                    <div class="input-group">
                        <label for="parcela-atual">Parcela Atual:</label>
                        <input type="number" id="parcela-atual" name="parcela_atual">
                    </div>
                </div>
                <div id="recorrencia-fields" class="input-group hidden">
                    <label for="recorrente-ate">Recorrente atÃ©:</label>
                    <input type="date" id="recorrente-ate" name="recorrente_ate">
                </div>
                <div class="input-group">
                    <label for="despesa-anexo">Anexo:</label>
                    <input type="file" id="despesa-anexo" name="anexo">
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn-secondary" onclick="closeModalDespesa()">Cancelar</button>
                    <button type="submit" class="btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
